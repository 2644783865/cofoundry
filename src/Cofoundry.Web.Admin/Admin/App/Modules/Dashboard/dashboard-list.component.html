<cf-page-header cfTitle="Dashboard"></cf-page-header>

<!--HEADER-->
<cf-page-row>
    <cms-dashboard-component title="Recent Pages"
                            entityname="page"
                            entitynameplural="pages"
                            [listurl]="urlLibrary.pageList()"
                            [createurl]="urlLibrary.pageNew()"
                            [loader]="pagesLoadState"
                            [numitems]="pages.length">

        <ul class="list-group list-group-flush">
            <li class="list-group-item" *ngFor="let page of pages">
                <a class="highlight" href="{{page.fullPath}}" title="{{title}}">{{page.fullPath}}</a>
            </li>
        </ul>
    </cms-dashboard-component>

    <cms-dashboard-component title="Draft Pages"
                            entityname="draft"
                            entitynameplural="drafts"
                            [listurl]="urlLibrary.pageList({ workFlowStatus: 'Draft' })"
                            [loader]="draftPagesLoadState"
                            [numitems]="draftPages.length">

        <ul class="list-group list-group-flush">
            <li  class="list-group-item" *ngFor="let draft of draftPages">
                <a class="highlight" href="{{draft.fullPath}}" title="{{title}}">{{draft.fullPath}}</a>
            </li>
        </ul>
    </cms-dashboard-component>


    <cms-dashboard-component title="Page Templates"
                            entityname="page template"
                            entitynameplural="page templates"
                            [listurl]="urlLibrary.pageTemplateList()"
                            [createurl]="urlLibrary.pageTemplateNew()"
                            [loader]="pageTemplatesLoadState"
                            [numitems]="pageTemplates.length">

        <ul class="list-group list-group-flush">
            <li class="list-group-item" *ngFor="let template of pageTemplates">
                <a class="highlight" href="{{urlLibrary.pageTemplateDetails(template.pageTemplateId)}}">{{template.name}}</a>
            </li>
        </ul>
    </cms-dashboard-component>
</cf-page-row>

<ng-template #content let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Modal title</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <p>One fine body&hellip;</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="c('Close click')">Close</button>
  </div>
</ng-template>

<button type="button" (click)="open(content)">Open Modal</button>

<pre>{{closeResult}}</pre>

<br clear="all">


<!--
<cms-form>
    <cms-form-field-textbox
        key="firstName"
        title="First Name"
        required>
    </cms-form-field-textbox>
    <cms-form-field-textbox
        key="emailAddress"
        title="Email Address"
        type="email"
        required>
    </cms-form-field-textbox>
    <button 
        type="submit">Submit</button>
</cms-form>
-->
<!--
<cms-dashboard-component title="Users"
                         entityname="user"
                         entitynameplural="users"
                         listurl="{{urlLibrary.userList()}}"
                         createurl="{{urlLibrary.userNew()}}"
                         [loader]="usersLoadState"
                         [numitems]="users.length">

    <table class="table table-condensed">
        <tbody>
            <tr>
                <td>
                    {{users.length}}
                </td>
            </tr>
        </tbody>
    </table>

</cms-dashboard-component>
-->